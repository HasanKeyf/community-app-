
<h2 class="page-header">All Categories</h2>
<!--<div class="page-header">
  <button  class="btn btn-app " data-toggle="modal" data-target="#addCategoryModal">
    <i class="fa fa-save"></i>
    Add new</button>
  <div ng-show="loading">Loading...</div>
</div>-->


<div class="row">


  <div class="col-lg-2">
    <div class="form-group">

      <input type="text" ng-model="search.title" class="form-control" placeholder="Search in title"
             id="searchCategory">
    </div>
  </div>
  <div class="col-lg-2">
    <div class="form-group">

      <input type="text" ng-model="search.description" class="form-control" placeholder="Search in description"
             id="searchCategoryDesc">
    </div>
  </div>
    <div class="col-lg-2">
        <div class="form-group">

            <div class="btn-group">
                <button type="button" class="btn btn-default">Sort By </button>
                <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                    <span class="caret"></span>
                    <span class="sr-only">Toggle Dropdown</span>
                </button>
                <ul class="dropdown-menu" role="menu">
                    <li><a ng-click="sort='title'; reverse=false" href="#">Sort A-Z</a></li>
                    <li><a ng-click="sort='title'; reverse=true" href="#">Sort Z-A</a></li>

                    <li class="divider"></li>
                    <li><a ng-click="sort='question_count'; reverse=!reverse" href="#">By question counts</a></li>
                    <li><a ng-click="sort='article_count'; reverse=!reverse" href="#">By article counts</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

<div class="row">
  <div class="col-lg-4"  ng-repeat="c in categories | filter:search | orderBy:sort:reverse">
    <div class="box box-solid" style="height: 175px;">
      <div class="box-header with-border">
        <i class="fa fa-list-alt"></i>
        <h3 class="box-title"><a href="/category/{{c.title.split(' ').join('-')}}/{{c.objectId}}">{{c.title}}</a></h3>

      </div><!-- /.box-header -->
      <div class="box-body">
        <p>{{c.description|limitTo:120}}...</p>
      </div><!-- /.box-body -->
      <div class="box-footer">
          <div class="col-lg-6" style="border-right: 1px solid skyblue">
              <a href="/category/{{c.title.split(' ').join('-')}}/questions/{{c.objectId}}">
                  <span class="info-box-text">Questions <i class="fa fa-question-circle"></i></span>
                  <span class="info-box-number">{{c.question_count}}</span>

              </a>

          </div>
          <div class="col-lg-6">
              <a href="/category/{{c.title.split(' ').join('-')}}/articles/{{c.objectId}}">
                  <span class="info-box-text">Articles <i class="fa fa-list-alt"></i>
              </span>
                  <span class="info-box-number">{{c.article_count}}</span>
              </a>

          </div>




       <!-- <i ng-click="deleteCategory(c)" class="fa fa-fw fa-trash-o"></i> Delete
        <i class="fa fa-fw fa-edit"></i> <span  ng-click="startEditing(c)">
        Edit
      </span>-->
      </div>
    </div>

  </div>


  <div class="col-lg-4">

  </div>

</div>



<div class="modal modal-primary" id="addCategoryModal">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
        <h4 class="modal-title">Add new Category</h4>
      </div>
      <div class="modal-body">

        <form role="form">

            <div class="form-group">
              <label for="title">Category Title</label>
              <input ng-model="selectedCategory.title" type="text" class="form-control" id="title"
                     placeholder="Enter a title">
            </div>
            <div class="form-group">
              <label for="description">Category Description</label>
              <textarea ng-model="selectedCategory.description" class="form-control"
                        id="description" placeholder="Description"></textarea>
            </div>



          <div class="box-footer" ng-show="anyError">
            <div class="callout callout-danger"></div>
          </div>
        </form>


      </div>
      <div class="modal-footer" >
        <button type="button" class="btn btn-outline pull-left" data-dismiss="modal">Close</button>
        <button type="button" ng-show="!categoryEditing" ng-click="addNewCategory()" class="btn btn-outline">Add & Close</button>
        <button type="button" ng-show="categoryEditing" ng-click="saveCategory()" class="btn btn-outline">Save changes</button>
      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div>
